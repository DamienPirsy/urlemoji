<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mini.css/3.0.1/mini-default.min.css">
        <script src="https://raw.githubusercontent.com/paragbhadoria/emoji.json/master/emoji.js"></script>
    </head>
    <body>
        
        <header class="sticky">
            <a href="#" class="logo">Logo</a>
            <a href="/" class="button">Home</a>
            <button>Download</button>
        </header>
        <div class="container">

            <div class="row">
                <div class="card">
                   <button type="button" onclick="enableLoop('valentine');">V</button>
                </div>
                <div class="card">
                    <button type="button" onclick="enableLoop('game');">G</button>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-5"></div>
                <div class="col-sm-7"></div>
            </div>
        </div>
                       
        
        <footer class="sticky">
            <p>Credits:</p>
            <ul>
              <li>Source article - http://matthewrayfield.com/articles/animating-urls-with-javascript-and-emojis </li>
              <li>List of all emoji for JavaScript - https://raw.githubusercontent.com/paragbhadoria/emoji.json/master/emoji.js</li>
              <li>Mini.css - https://minicss.org/docs#grid</li>
              <li>1 line ascii art - https://1lineart.kulaone.com/#/</li>
            </ul>
        </footer>
        <script>
          let t = null
          let active = null

          function enableLoop(loopname) {
            
            location.hash = '';
            clearTimeout(t);

            switch (loopname) {
              case 'valentine':
                if (active != 'valentine') {
                  vCounter = 0;
                  valentine();
                  active = 'valentine';
                } else {
                  active = null
                }
              break;
              case 'game':
                if (active != 'game') {
                  game();
                  active = 'game';
                } else {
                  active = null
                }
              break;
              default: 
                 alert(loopname + ' is not defined');
              break;
            }
          }

          /**
          * Valentine
          */
          function valentine() {
            el = ['💋', '▫️', '💕', '💑 ', '️❤️', '💗', '', '😍', '💞']
            seq = ['0', '01', '011', '0111', '1112', '1121', '1211', '2111', '21113', '11131', '11311', '13111', '4', '8','8','8','6', '5', '6', '5', '6', '5', '6', '7', '7', '7']
            t = setTimeout(valentine, 600);
            if (vCounter >= seq.length) {
              vCounter = 0;
              clearTimeout(t);
              return;
            }
            let urlString = '';
            [...seq[vCounter]].forEach(function(number, index) {
               urlString += el[number]
            });
            location.hash = urlString;
            vCounter++;
          }
          /**
          *
          */
          function moon() {
            t = setTimeout(game, 50);
            let f = ['🌑', '🌒', '🌓', '🌔', '🌝', '🌖', '🌗', '🌘'];
            location.hash = f[Math.floor((Date.now()/100)%f.length)];
          }

        </script>
    </body>
</html>